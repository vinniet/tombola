<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tombola Number Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Top Bar with Stats and Title -->
        <div class="top-bar">
            <h1>üé± Tombola</h1>
            <div class="stats">
                <div class="stat-box">
                    <span class="stat-label">Drawn</span>
                    <span class="stat-value" id="drawn-count">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Remaining</span>
                    <span class="stat-value" id="remaining-count">90</span>
                </div>
            </div>
            <div class="top-controls">
                <button id="random-draw-btn" class="btn btn-primary btn-sm">
                    üé≤ Random
                </button>
                <button id="repeat-last-btn" class="btn btn-info btn-sm" disabled>
                    üîÅ Repeat Last
                </button>
                <button id="voice-toggle-btn" class="btn btn-secondary btn-sm">
                    <span id="voice-icon">üîá</span> Voice
                </button>
                <button id="undo-btn" class="btn btn-warning btn-sm">Undo</button>
                <button id="check-btn" class="btn btn-info btn-sm">Check</button>
                <button id="history-btn" class="btn btn-info btn-sm">History</button>
                <button id="reset-btn" class="btn btn-danger btn-sm">Reset</button>
            </div>
        </div>

        <div id="message" class="message"></div>

        <!-- Full Screen Number Board -->
        <div class="fullscreen-board">
            <div class="number-board" id="number-board">
                <!-- Numbers 1-90 will be generated by JavaScript -->
            </div>
        </div>

        <!-- Bottom Bar with Recently Drawn -->
        <div class="bottom-bar">
            <span class="recent-label">Recently Drawn:</span>
            <div class="recent-numbers" id="recent-numbers">
                <span class="empty-state">None</span>
            </div>
        </div>

        <!-- Large Number Popup -->
        <div id="number-popup" class="number-popup">
            <div class="popup-content">
                <div class="popup-number" id="popup-number">42</div>
            </div>
        </div>

        <!-- History Modal -->
        <div id="history-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Game History</h2>
                <div id="history-list"></div>
            </div>
        </div>

        <!-- Check Number Modal -->
        <div id="check-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Check Number</h2>
                <input type="number" id="check-input" min="1" max="90" placeholder="Enter number to check">
                <button id="check-submit-btn" class="btn btn-primary">Check</button>
                <div id="check-result"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>